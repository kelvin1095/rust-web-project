import{s as G,n as B}from"../chunks/scheduler.e8b33e29.js";import{S as L,i as N,g as x,s as b,h as m,x as z,c as C,j as k,f as _,k as p,a as v,C as K,D,E as O,F as T,y as E,m as Q,B as R,n as W,o as X,b as Y,d as F,t as U,r as Z,u as ee,v as te,G as le,w as ie,p as ne}from"../chunks/index.b1dae435.js";import{e as S,u as se,o as ae}from"../chunks/each.ac538da7.js";function re(s,e){const l=[];let n=0;function o(c,t){if(t===s){l.push({id:n++,played:!1,active:!1,card_description:c.slice()});return}for(let i=0;i<=e;i++)c[t]=i,o(c,t+1)}return o(new Array(s).fill(0),0),l}function oe(s){let e=s.length,l,n;for(;e!==0;)l=Math.floor(Math.random()*e),e--,n=s[e],s[e]=s[l],s[l]=n;return s}const ce=4,de=2,J=re(ce,de);oe(J);const he=()=>({deck:{shuffled_cards:J}}),ke=Object.freeze(Object.defineProperty({__proto__:null,load:he},Symbol.toStringTag,{value:"Module"}));function q(s,e,l){const n=s.slice();return n[6]=e[l],n}function H(s){let e,l,n,o,c;return{c(){e=D("svg"),l=D("use"),this.h()},l(t){e=O(t,"svg",{class:!0,stroke:!0,fill:!0});var i=k(e);l=O(i,"use",{"xlink:href":!0}),k(l).forEach(_),i.forEach(_),this.h()},h(){T(l,"xlink:href",n=s[3][s[0][3]]),p(e,"class","shape svelte-k3bk89"),p(e,"stroke",o=s[1][s[0][1]]),p(e,"fill",c=s[2][s[0][2]][s[0][1]])},m(t,i){v(t,e,i),E(e,l)},p(t,i){i&1&&n!==(n=t[3][t[0][3]])&&T(l,"xlink:href",n),i&1&&o!==(o=t[1][t[0][1]])&&p(e,"stroke",o),i&1&&c!==(c=t[2][t[0][2]][t[0][1]])&&p(e,"fill",c)},d(t){t&&_(e)}}}function ue(s){let e,l='<div class="shapes"><svg id="diamond" viewBox="0 0 8 12" stroke-width="0.3"><polygon points="4,1 7,6 4,11 1,6 "></polygon></svg> <svg id="squiggle" viewBox="0 0 8 12" stroke-width="0.3"><path d="M6.3,2C6.3,1.4,6,0.9,5.5,0.5C4.7,0,3.6,0.2,3,1c-1.3,1.9-1.7,4-0.6,6c0.4,0.7,0.2,1.3-0.3,1.9c-0.6,0.7-0.5,1.8,0.2,2.5c0.7,0.6,1.8,0.5,2.5-0.2C6.3,9.4,6.6,7.3,5.5,5.3C5.1,4.5,5.4,3.7,6,3C6.2,2.7,6.3,2.3,6.3,2"></path></svg> <svg id="pill" viewBox="0 0 8 12" stroke-width="0.3"><path d="M2,3 v6 c0,1.1 0.9,2 2,2 h0 c1.1,0 2,-0.9 2,-2 V3 c0,-1.1 -0.9,-2 -2,-2 h0 C2.9,1 2,1.9 2,3 v0"></path></svg></div> <svg width="0" height="0"><defs><pattern id="stripes-c0" width="12" height="8" stroke="red" stroke-width="0.3"><line x1="0" y1="1" x2="8" y2="1"></line><line x1="0" y1="2" x2="8" y2="2"></line><line x1="0" y1="3" x2="8" y2="3"></line><line x1="0" y1="4" x2="8" y2="4"></line><line x1="0" y1="5" x2="8" y2="5"></line><line x1="0" y1="6" x2="8" y2="6"></line><line x1="0" y1="7" x2="8" y2="7"></line><line x1="0" y1="8" x2="8" y2="8"></line><line x1="0" y1="9" x2="8" y2="9"></line><line x1="0" y1="10" x2="8" y2="10"></line><line x1="0" y1="11" x2="8" y2="11"></line></pattern><pattern id="stripes-c1" width="12" height="8" stroke="green" stroke-width="0.3"><line x1="0" y1="1" x2="8" y2="1"></line><line x1="0" y1="2" x2="8" y2="2"></line><line x1="0" y1="3" x2="8" y2="3"></line><line x1="0" y1="4" x2="8" y2="4"></line><line x1="0" y1="5" x2="8" y2="5"></line><line x1="0" y1="6" x2="8" y2="6"></line><line x1="0" y1="7" x2="8" y2="7"></line><line x1="0" y1="8" x2="8" y2="8"></line><line x1="0" y1="9" x2="8" y2="9"></line><line x1="0" y1="10" x2="8" y2="10"></line><line x1="0" y1="11" x2="8" y2="11"></line></pattern><pattern id="stripes-c2" width="12" height="8" stroke="purple" stroke-width="0.3"><line x1="0" y1="1" x2="8" y2="1"></line><line x1="0" y1="2" x2="8" y2="2"></line><line x1="0" y1="3" x2="8" y2="3"></line><line x1="0" y1="4" x2="8" y2="4"></line><line x1="0" y1="5" x2="8" y2="5"></line><line x1="0" y1="6" x2="8" y2="6"></line><line x1="0" y1="7" x2="8" y2="7"></line><line x1="0" y1="8" x2="8" y2="8"></line><line x1="0" y1="9" x2="8" y2="9"></line><line x1="0" y1="10" x2="8" y2="10"></line><line x1="0" y1="11" x2="8" y2="11"></line></pattern></defs></svg>',n,o,c=S({length:s[0][0]+1}),t=[];for(let i=0;i<c.length;i+=1)t[i]=H(q(s,c,i));return{c(){e=x("div"),e.innerHTML=l,n=b(),o=x("div");for(let i=0;i<t.length;i+=1)t[i].c();this.h()},l(i){e=m(i,"DIV",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-e65ms7"&&(e.innerHTML=l),n=C(i),o=m(i,"DIV",{class:!0});var h=k(o);for(let a=0;a<t.length;a+=1)t[a].l(h);h.forEach(_),this.h()},h(){p(e,"class","helpers svelte-k3bk89"),p(o,"class","generated-card")},m(i,h){v(i,e,h),v(i,n,h),v(i,o,h);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(o,null)},p(i,[h]){if(h&15){c=S({length:i[0][0]+1});let a;for(a=0;a<c.length;a+=1){const r=q(i,c,a);t[a]?t[a].p(r,h):(t[a]=H(r),t[a].c(),t[a].m(o,null))}for(;a<t.length;a+=1)t[a].d(1);t.length=c.length}},i:B,o:B,d(i){i&&(_(e),_(n),_(o)),K(t,i)}}}function fe(s,e,l){let{data:n=[0,0,0,0]}=e,o=["none","none","none"],c=["red","green","purple"],i=[o,["url(#stripes-c0)","url(#stripes-c1)","url(#stripes-c2)"],c],h=["#diamond","#squiggle","#pill"];return s.$$set=a=>{"data"in a&&l(0,n=a.data)},[n,c,i,h]}class _e extends L{constructor(e){super(),N(this,e,fe,ue,G,{data:0})}}function I(s,e,l){const n=s.slice();return n[5]=e[l],n}function P(s,e){let l,n,o,c,t,i,h;n=new _e({props:{data:e[5].card_description}});function a(){return e[4](e[5])}return{key:s,first:null,c(){l=x("button"),Z(n.$$.fragment),o=b(),this.h()},l(r){l=m(r,"BUTTON",{class:!0});var u=k(l);ee(n.$$.fragment,u),o=C(u),u.forEach(_),this.h()},h(){p(l,"class",c="card-in-play "+e[5].active+" svelte-1piihr0"),this.first=l},m(r,u){v(r,l,u),te(n,l,null),E(l,o),t=!0,i||(h=le(l,"click",a),i=!0)},p(r,u){e=r;const y={};u&1&&(y.data=e[5].card_description),n.$set(y),(!t||u&1&&c!==(c="card-in-play "+e[5].active+" svelte-1piihr0"))&&p(l,"class",c)},i(r){t||(F(n.$$.fragment,r),t=!0)},o(r){U(n.$$.fragment,r),t=!1},d(r){r&&_(l),ie(n),i=!1,h()}}}function pe(s){let e,l,n="Play a game of Set",o,c,t,i,h,a,r=[],u=new Map,y,w=S(s[0].filter(A).slice(0,12));const V=d=>d[5].id;for(let d=0;d<w.length;d+=1){let f=I(s,w,d),g=V(f);u.set(g,r[d]=P(g,f))}return{c(){e=b(),l=x("h1"),l.textContent=n,o=b(),c=x("div"),t=x("h1"),i=Q(s[1]),h=b(),a=x("div");for(let d=0;d<r.length;d+=1)r[d].c();this.h()},l(d){R("svelte-1c6tqk5",document.head).forEach(_),e=C(d),l=m(d,"H1",{class:!0,"data-svelte-h":!0}),z(l)!=="svelte-ddsjx2"&&(l.textContent=n),o=C(d),c=m(d,"DIV",{});var g=k(c);t=m(g,"H1",{class:!0});var $=k(t);i=W($,s[1]),$.forEach(_),g.forEach(_),h=C(d),a=m(d,"DIV",{id:!0,class:!0});var j=k(a);for(let M=0;M<r.length;M+=1)r[M].l(j);j.forEach(_),this.h()},h(){document.title="Set Card Game",p(l,"class","svelte-1piihr0"),p(t,"class","svelte-1piihr0"),p(a,"id","game-grid"),p(a,"class","svelte-1piihr0")},m(d,f){v(d,e,f),v(d,l,f),v(d,o,f),v(d,c,f),E(c,t),E(t,i),v(d,h,f),v(d,a,f);for(let g=0;g<r.length;g+=1)r[g]&&r[g].m(a,null);y=!0},p(d,[f]){(!y||f&2)&&X(i,d[1]),f&5&&(w=S(d[0].filter(A).slice(0,12)),ne(),r=se(r,f,V,1,d,w,u,a,ae,P,null,I),Y())},i(d){if(!y){for(let f=0;f<w.length;f+=1)F(r[f]);y=!0}},o(d){for(let f=0;f<r.length;f+=1)U(r[f]);y=!1},d(d){d&&(_(e),_(l),_(o),_(c),_(h),_(a));for(let f=0;f<r.length;f+=1)r[f].d()}}}function ye(s,e){if(s.length!==e.length)throw new Error("Vectors must have the same dimensions for component-wise addition.");const l=[];for(let n=0;n<s.length;n++)l.push((s[n]+e[n])%3);return l}const A=s=>s.played==!1;function ve(s,e,l){let{data:n}=e,o=n.deck.shuffled_cards,c="Select 3 cards";function t(h){o.filter(r=>r.id===h).map(r=>r.active=!r.active),l(0,o);let a=o.filter(r=>r.active===!0);a.length>=3&&(a.map(u=>u.card_description).reduce((u,y)=>ye(u,y),[0,0,0,0]).reduce((u,y)=>u+y,0)===0?(l(1,c="Set!"),o.filter(u=>u.active===!0).map(u=>{u.played=!0,u.active=!1})):(l(1,c="No Set"),o.filter(u=>u.active===!0).map(u=>u.active=!1)))}const i=h=>t(h.id);return s.$$set=h=>{"data"in h&&l(3,n=h.data)},[o,c,t,n,i]}class we extends L{constructor(e){super(),N(this,e,ve,pe,G,{data:3})}}export{we as component,ke as universal};
