import{s as ae,n as L,r as he}from"../chunks/scheduler.59ff4fcc.js";import{S as re,i as oe,g as C,s as B,h as w,x as P,c as I,j as S,f as u,k as _,a as b,C as ue,D as Y,E as Z,F as $,y as x,m as U,e as ee,B as fe,n as A,G as J,o as K,t as R,b as ce,d as z,p as de,r as _e,u as ve,v as me,w as pe}from"../chunks/index.9fefb256.js";import{e as F,u as ye,o as ge}from"../chunks/each.d3aba7fb.js";function ke(n,t){const e=[];let i=0;function d(a,l){if(l===n){e.push({id:i++,played:!1,active:!1,card_description:a.slice()});return}for(let s=0;s<=t;s++)a[l]=s,d(a,l+1)}return d(new Array(n).fill(0),0),e}const xe=4,be=2,Ce=ke(xe,be),we=()=>({deck:{shuffled_cards:Ce}}),qe=Object.freeze(Object.defineProperty({__proto__:null,load:we},Symbol.toStringTag,{value:"Module"}));function te(n,t,e){const i=n.slice();return i[6]=t[e],i}function le(n){let t,e,i,d,a;return{c(){t=Y("svg"),e=Y("use"),this.h()},l(l){t=Z(l,"svg",{class:!0,stroke:!0,fill:!0});var s=S(t);e=Z(s,"use",{"xlink:href":!0}),S(e).forEach(u),s.forEach(u),this.h()},h(){$(e,"xlink:href",i=n[3][n[0][3]]),_(t,"class","shape svelte-k3bk89"),_(t,"stroke",d=n[1][n[0][1]]),_(t,"fill",a=n[2][n[0][2]][n[0][1]])},m(l,s){b(l,t,s),x(t,e)},p(l,s){s&1&&i!==(i=l[3][l[0][3]])&&$(e,"xlink:href",i),s&1&&d!==(d=l[1][l[0][1]])&&_(t,"stroke",d),s&1&&a!==(a=l[2][l[0][2]][l[0][1]])&&_(t,"fill",a)},d(l){l&&u(t)}}}function Ee(n){let t,e='<div class="shapes"><svg id="diamond" viewBox="0 0 8 12" stroke-width="0.3"><polygon points="4,1 7,6 4,11 1,6 "></polygon></svg> <svg id="squiggle" viewBox="0 0 8 12" stroke-width="0.3"><path d="M6.3,2C6.3,1.4,6,0.9,5.5,0.5C4.7,0,3.6,0.2,3,1c-1.3,1.9-1.7,4-0.6,6c0.4,0.7,0.2,1.3-0.3,1.9c-0.6,0.7-0.5,1.8,0.2,2.5c0.7,0.6,1.8,0.5,2.5-0.2C6.3,9.4,6.6,7.3,5.5,5.3C5.1,4.5,5.4,3.7,6,3C6.2,2.7,6.3,2.3,6.3,2"></path></svg> <svg id="oval" viewBox="0 0 8 12" stroke-width="0.3"><path d="M2,3 v6 c0,1.1 0.9,2 2,2 h0 c1.1,0 2,-0.9 2,-2 V3 c0,-1.1 -0.9,-2 -2,-2 h0 C2.9,1 2,1.9 2,3 v0"></path></svg></div> <svg width="0" height="0"><defs><pattern id="stripes-c0" width="12" height="8" stroke="red" stroke-width="0.3"><line x1="0" y1="1" x2="8" y2="1"></line><line x1="0" y1="2" x2="8" y2="2"></line><line x1="0" y1="3" x2="8" y2="3"></line><line x1="0" y1="4" x2="8" y2="4"></line><line x1="0" y1="5" x2="8" y2="5"></line><line x1="0" y1="6" x2="8" y2="6"></line><line x1="0" y1="7" x2="8" y2="7"></line><line x1="0" y1="8" x2="8" y2="8"></line><line x1="0" y1="9" x2="8" y2="9"></line><line x1="0" y1="10" x2="8" y2="10"></line><line x1="0" y1="11" x2="8" y2="11"></line></pattern><pattern id="stripes-c1" width="12" height="8" stroke="green" stroke-width="0.3"><line x1="0" y1="1" x2="8" y2="1"></line><line x1="0" y1="2" x2="8" y2="2"></line><line x1="0" y1="3" x2="8" y2="3"></line><line x1="0" y1="4" x2="8" y2="4"></line><line x1="0" y1="5" x2="8" y2="5"></line><line x1="0" y1="6" x2="8" y2="6"></line><line x1="0" y1="7" x2="8" y2="7"></line><line x1="0" y1="8" x2="8" y2="8"></line><line x1="0" y1="9" x2="8" y2="9"></line><line x1="0" y1="10" x2="8" y2="10"></line><line x1="0" y1="11" x2="8" y2="11"></line></pattern><pattern id="stripes-c2" width="12" height="8" stroke="purple" stroke-width="0.3"><line x1="0" y1="1" x2="8" y2="1"></line><line x1="0" y1="2" x2="8" y2="2"></line><line x1="0" y1="3" x2="8" y2="3"></line><line x1="0" y1="4" x2="8" y2="4"></line><line x1="0" y1="5" x2="8" y2="5"></line><line x1="0" y1="6" x2="8" y2="6"></line><line x1="0" y1="7" x2="8" y2="7"></line><line x1="0" y1="8" x2="8" y2="8"></line><line x1="0" y1="9" x2="8" y2="9"></line><line x1="0" y1="10" x2="8" y2="10"></line><line x1="0" y1="11" x2="8" y2="11"></line></pattern></defs></svg>',i,d,a=F({length:n[0][0]+1}),l=[];for(let s=0;s<a.length;s+=1)l[s]=le(te(n,a,s));return{c(){t=C("div"),t.innerHTML=e,i=B(),d=C("div");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){t=w(s,"DIV",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-1asrpj8"&&(t.innerHTML=e),i=I(s),d=w(s,"DIV",{class:!0});var h=S(d);for(let c=0;c<l.length;c+=1)l[c].l(h);h.forEach(u),this.h()},h(){_(t,"class","helpers svelte-k3bk89"),_(d,"class","generated-card")},m(s,h){b(s,t,h),b(s,i,h),b(s,d,h);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(d,null)},p(s,[h]){if(h&15){a=F({length:s[0][0]+1});let c;for(c=0;c<a.length;c+=1){const m=te(s,a,c);l[c]?l[c].p(m,h):(l[c]=le(m),l[c].c(),l[c].m(d,null))}for(;c<l.length;c+=1)l[c].d(1);l.length=a.length}},i:L,o:L,d(s){s&&(u(t),u(i),u(d)),ue(l,s)}}}function Ve(n,t,e){let{data:i=[0,0,0,0]}=t,d=["none","none","none"],a=["red","green","purple"],s=[d,["url(#stripes-c0)","url(#stripes-c1)","url(#stripes-c2)"],a],h=["#diamond","#squiggle","#oval"];return n.$$set=c=>{"data"in c&&e(0,i=c.data)},[i,a,s,h]}class Me extends re{constructor(t){super(),oe(this,t,Ve,Ee,ae,{data:0})}}function Se(n){let t=n.length,e,i;for(;t!==0;)e=Math.floor(Math.random()*t),t--,i=n[t],n[t]=n[e],n[e]=i;return n}function Te(n,t){if(n.length!==t.length)throw new Error("Vectors must have the same dimensions for component-wise addition.");const e=[];for(let i=0;i<n.length;i++)e.push((n[i]+t[i])%3);return e}function se(n,t,e){const i=n.slice();return i[12]=t[e],i}function De(n){let t,e,i,d,a,l,s,h,c,m,g,p,k=[],O=new Map,v,E=F(n[0].filter(ie).slice(0,12+3*n[3]));const V=r=>r[12].id;for(let r=0;r<E.length;r+=1){let o=se(n,E,r),y=V(o);O.set(y,k[r]=ne(y,o))}return{c(){t=C("div"),e=C("div"),i=C("h1"),d=U("Score: "),a=U(n[4]),l=B(),s=C("div"),h=C("h1"),c=U("Cards Remaining: "),m=U(n[5]),g=B(),p=C("div");for(let r=0;r<k.length;r+=1)k[r].c();this.h()},l(r){t=w(r,"DIV",{id:!0,class:!0});var o=S(t);e=w(o,"DIV",{id:!0,class:!0});var y=S(e);i=w(y,"H1",{class:!0});var T=S(i);d=A(T,"Score: "),a=A(T,n[4]),T.forEach(u),y.forEach(u),l=I(o),s=w(o,"DIV",{id:!0,class:!0});var N=S(s);h=w(N,"H1",{class:!0});var H=S(h);c=A(H,"Cards Remaining: "),m=A(H,n[5]),H.forEach(u),N.forEach(u),o.forEach(u),g=I(r),p=w(r,"DIV",{id:!0,class:!0});var G=S(p);for(let q=0;q<k.length;q+=1)k[q].l(G);G.forEach(u),this.h()},h(){_(i,"class","svelte-1dhkmrd"),_(e,"id","score"),_(e,"class","svelte-1dhkmrd"),_(h,"class","svelte-1dhkmrd"),_(s,"id","cards-remaining"),_(s,"class","svelte-1dhkmrd"),_(t,"id","game-information"),_(t,"class","svelte-1dhkmrd"),_(p,"id","game-grid"),_(p,"class","svelte-1dhkmrd")},m(r,o){b(r,t,o),x(t,e),x(e,i),x(i,d),x(i,a),x(t,l),x(t,s),x(s,h),x(h,c),x(h,m),b(r,g,o),b(r,p,o);for(let y=0;y<k.length;y+=1)k[y]&&k[y].m(p,null);v=!0},p(r,o){(!v||o&16)&&K(a,r[4]),(!v||o&32)&&K(m,r[5]),o&137&&(E=F(r[0].filter(ie).slice(0,12+3*r[3])),de(),k=ye(k,o,V,1,r,E,O,p,ge,ne,null,se),ce())},i(r){if(!v){for(let o=0;o<E.length;o+=1)z(k[o]);v=!0}},o(r){for(let o=0;o<k.length;o+=1)R(k[o]);v=!1},d(r){r&&(u(t),u(g),u(p));for(let o=0;o<k.length;o+=1)k[o].d()}}}function Be(n){let t;return{c(){t=C("div")},l(e){t=w(e,"DIV",{}),S(t).forEach(u)},m(e,i){b(e,t,i)},p:L,i:L,o:L,d(e){e&&u(t)}}}function ne(n,t){let e,i,d,a,l,s,h;i=new Me({props:{data:t[12].card_description}});function c(){return t[11](t[12])}return{key:n,first:null,c(){e=C("button"),_e(i.$$.fragment),d=B(),this.h()},l(m){e=w(m,"BUTTON",{class:!0});var g=S(e);ve(i.$$.fragment,g),d=I(g),g.forEach(u),this.h()},h(){_(e,"class",a="card-in-play "+t[12].active+" svelte-1dhkmrd"),this.first=e},m(m,g){b(m,e,g),me(i,e,null),x(e,d),l=!0,s||(h=J(e,"click",c),s=!0)},p(m,g){t=m;const p={};g&9&&(p.data=t[12].card_description),i.$set(p),(!l||g&9&&a!==(a="card-in-play "+t[12].active+" svelte-1dhkmrd"))&&_(e,"class",a)},i(m){l||(z(i.$$.fragment,m),l=!0)},o(m){R(i.$$.fragment,m),l=!1},d(m){m&&u(e),pe(i),s=!1,h()}}}function Ie(n){let t,e,i="Play Set",d,a,l,s="New Game",h,c,m="Hint",g,p,k="Open More Cards",O,v,E,V,r,o,y,T,N,H,G;const q=[Be,De],j=[];function Q(f,M){return f[1]?0:1}return o=Q(n),y=j[o]=q[o](n),{c(){t=B(),e=C("h1"),e.textContent=i,d=B(),a=C("div"),l=C("button"),l.textContent=s,h=B(),c=C("button"),c.textContent=m,g=B(),p=C("button"),p.textContent=k,O=B(),v=C("div"),E=C("h1"),V=U(n[2]),r=B(),y.c(),T=ee(),this.h()},l(f){fe("svelte-1c6tqk5",document.head).forEach(u),t=I(f),e=w(f,"H1",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-10q6666"&&(e.textContent=i),d=I(f),a=w(f,"DIV",{id:!0,class:!0});var D=S(a);l=w(D,"BUTTON",{class:!0,"data-svelte-h":!0}),P(l)!=="svelte-1amhtjw"&&(l.textContent=s),h=I(D),c=w(D,"BUTTON",{class:!0,"data-svelte-h":!0}),P(c)!=="svelte-6ulau3"&&(c.textContent=m),g=I(D),p=w(D,"BUTTON",{class:!0,"data-svelte-h":!0}),P(p)!=="svelte-1tx7xal"&&(p.textContent=k),D.forEach(u),O=I(f),v=w(f,"DIV",{id:!0,class:!0});var W=S(v);E=w(W,"H1",{class:!0});var X=S(E);V=A(X,n[2]),X.forEach(u),W.forEach(u),r=I(f),y.l(f),T=ee(),this.h()},h(){document.title="Set Card Game",_(e,"class","svelte-1dhkmrd"),_(l,"class","svelte-1dhkmrd"),_(c,"class","svelte-1dhkmrd"),_(p,"class","svelte-1dhkmrd"),_(a,"id","game-buttons"),_(a,"class","svelte-1dhkmrd"),_(E,"class","svelte-1dhkmrd"),_(v,"id","set-information"),_(v,"class","svelte-1dhkmrd")},m(f,M){b(f,t,M),b(f,e,M),b(f,d,M),b(f,a,M),x(a,l),x(a,h),x(a,c),x(a,g),x(a,p),b(f,O,M),b(f,v,M),x(v,E),x(E,V),b(f,r,M),j[o].m(f,M),b(f,T,M),N=!0,H||(G=[J(l,"click",n[9]),J(p,"click",n[10])],H=!0)},p(f,[M]){(!N||M&4)&&K(V,f[2]);let D=o;o=Q(f),o===D?j[o].p(f,M):(de(),R(j[D],1,1,()=>{j[D]=null}),ce(),y=j[o],y?y.p(f,M):(y=j[o]=q[o](f),y.c()),z(y,1),y.m(T.parentNode,T))},i(f){N||(z(y),N=!0)},o(f){R(y),N=!1},d(f){f&&(u(t),u(e),u(d),u(a),u(O),u(v),u(r),u(T)),j[o].d(f),H=!1,he(G)}}}const ie=n=>n.played==!1;function Oe(n,t,e){let i,{data:d}=t,a=d.deck.shuffled_cards,l=!0,s="Press New Game to Begin",h=0,c=0;function m(){return e(1,l=!1),e(0,a=Se(a)),a.map(v=>{v.played=!1,v.active=!1}),e(3,h=0),e(4,c=0),e(2,s="Select 3 Cards"),a}function g(v){a.filter(V=>V.id===v).map(V=>V.active=!V.active),e(0,a);let E=a.filter(V=>V.active===!0);E.length>=3&&(E.map(r=>r.card_description).reduce((r,o)=>Te(r,o),[0,0,0,0]).reduce((r,o)=>r+o,0)===0?(e(2,s="Set!"),a.filter(r=>r.active===!0).map(r=>{r.played=!0,r.active=!1}),e(3,h=Math.max(0,h-1)),e(4,c+=1)):(e(2,s="No Set"),a.filter(r=>r.active===!0).map(r=>r.active=!1)))}const p=()=>m(),k=()=>{e(3,h+=1),e(4,c=Math.max(0,c-1))},O=v=>g(v.id);return n.$$set=v=>{"data"in v&&e(8,d=v.data)},n.$$.update=()=>{n.$$.dirty&1&&e(5,i=a.filter(v=>v.played===!1).length)},[a,l,s,h,c,i,m,g,d,p,k,O]}class Ge extends re{constructor(t){super(),oe(this,t,Oe,Ie,ae,{data:8})}}export{Ge as component,qe as universal};
